{"id":"node_modules/snabbdom/src/package/modules/style.ts","dependencies":[{"name":"D:\\Repo\\Daily-code\\Vue\\snabbdom-demo\\package.json","includedInParent":true,"mtime":1594121776499},{"name":"D:\\Repo\\Daily-code\\Vue\\snabbdom-demo\\node_modules\\snabbdom\\package.json","includedInParent":true,"mtime":1594117033108}],"generated":{"js":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.styleModule = void 0;\r\n// Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\r\nvar raf = (typeof window !== 'undefined' && (window.requestAnimationFrame).bind(window)) || setTimeout;\r\nvar nextFrame = function (fn) {\r\n    raf(function () {\r\n        raf(fn);\r\n    });\r\n};\r\nvar reflowForced = false;\r\nfunction setNextFrame(obj, prop, val) {\r\n    nextFrame(function () {\r\n        obj[prop] = val;\r\n    });\r\n}\r\nfunction updateStyle(oldVnode, vnode) {\r\n    var cur;\r\n    var name;\r\n    var elm = vnode.elm;\r\n    var oldStyle = oldVnode.data.style;\r\n    var style = vnode.data.style;\r\n    if (!oldStyle && !style)\r\n        return;\r\n    if (oldStyle === style)\r\n        return;\r\n    oldStyle = oldStyle || {};\r\n    style = style || {};\r\n    var oldHasDel = 'delayed' in oldStyle;\r\n    for (name in oldStyle) {\r\n        if (!style[name]) {\r\n            if (name[0] === '-' && name[1] === '-') {\r\n                elm.style.removeProperty(name);\r\n            }\r\n            else {\r\n                elm.style[name] = '';\r\n            }\r\n        }\r\n    }\r\n    for (name in style) {\r\n        cur = style[name];\r\n        if (name === 'delayed' && style.delayed) {\r\n            for (var name2 in style.delayed) {\r\n                cur = style.delayed[name2];\r\n                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\r\n                    setNextFrame(elm.style, name2, cur);\r\n                }\r\n            }\r\n        }\r\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\r\n            if (name[0] === '-' && name[1] === '-') {\r\n                elm.style.setProperty(name, cur);\r\n            }\r\n            else {\r\n                elm.style[name] = cur;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyDestroyStyle(vnode) {\r\n    var style;\r\n    var name;\r\n    var elm = vnode.elm;\r\n    var s = vnode.data.style;\r\n    if (!s || !(style = s.destroy))\r\n        return;\r\n    for (name in style) {\r\n        elm.style[name] = style[name];\r\n    }\r\n}\r\nfunction applyRemoveStyle(vnode, rm) {\r\n    var s = vnode.data.style;\r\n    if (!s || !s.remove) {\r\n        rm();\r\n        return;\r\n    }\r\n    if (!reflowForced) {\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n        vnode.elm.offsetLeft;\r\n        reflowForced = true;\r\n    }\r\n    var name;\r\n    var elm = vnode.elm;\r\n    var i = 0;\r\n    var compStyle;\r\n    var style = s.remove;\r\n    var amount = 0;\r\n    var applied = [];\r\n    for (name in style) {\r\n        applied.push(name);\r\n        elm.style[name] = style[name];\r\n    }\r\n    compStyle = getComputedStyle(elm);\r\n    var props = compStyle['transition-property'].split(', ');\r\n    for (; i < props.length; ++i) {\r\n        if (applied.indexOf(props[i]) !== -1)\r\n            amount++;\r\n    }\r\n    elm.addEventListener('transitionend', function (ev) {\r\n        if (ev.target === elm)\r\n            --amount;\r\n        if (amount === 0)\r\n            rm();\r\n    });\r\n}\r\nfunction forceReflow() {\r\n    reflowForced = false;\r\n}\r\nexports.styleModule = {\r\n    pre: forceReflow,\r\n    create: updateStyle,\r\n    update: updateStyle,\r\n    destroy: applyDestroyStyle,\r\n    remove: applyRemoveStyle\r\n};\r\n"},"sourceMaps":{"js":{"version":3,"file":"style.js","sourceRoot":"","sources":["node_modules/snabbdom/src/package/modules/style.ts"],"names":[],"mappings":"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","sourcesContent":["import { VNode, VNodeData } from '../vnode'\nimport { Module } from './module'\n\nexport type VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>\n  remove?: Record<string, string>\n}\n\n// Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\nvar raf = (typeof window !== 'undefined' && (window.requestAnimationFrame).bind(window)) || setTimeout\nvar nextFrame = function (fn: any) {\n  raf(function () {\n    raf(fn)\n  })\n}\nvar reflowForced = false\n\nfunction setNextFrame (obj: any, prop: string, val: any): void {\n  nextFrame(function () {\n    obj[prop] = val\n  })\n}\n\nfunction updateStyle (oldVnode: VNode, vnode: VNode): void {\n  var cur: any\n  var name: string\n  var elm = vnode.elm\n  var oldStyle = (oldVnode.data as VNodeData).style\n  var style = (vnode.data as VNodeData).style\n\n  if (!oldStyle && !style) return\n  if (oldStyle === style) return\n  oldStyle = oldStyle || {}\n  style = style || {}\n  var oldHasDel = 'delayed' in oldStyle\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.removeProperty(name)\n      } else {\n        (elm as any).style[name] = ''\n      }\n    }\n  }\n  for (name in style) {\n    cur = style[name]\n    if (name === 'delayed' && style.delayed) {\n      for (const name2 in style.delayed) {\n        cur = style.delayed[name2]\n        if (!oldHasDel || cur !== (oldStyle.delayed as any)[name2]) {\n          setNextFrame((elm as any).style, name2, cur)\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.setProperty(name, cur)\n      } else {\n        (elm as any).style[name] = cur\n      }\n    }\n  }\n}\n\nfunction applyDestroyStyle (vnode: VNode): void {\n  var style: any\n  var name: string\n  var elm = vnode.elm\n  var s = (vnode.data as VNodeData).style\n  if (!s || !(style = s.destroy)) return\n  for (name in style) {\n    (elm as any).style[name] = style[name]\n  }\n}\n\nfunction applyRemoveStyle (vnode: VNode, rm: () => void): void {\n  var s = (vnode.data as VNodeData).style\n  if (!s || !s.remove) {\n    rm()\n    return\n  }\n  if (!reflowForced) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n    (vnode.elm as any).offsetLeft\n    reflowForced = true\n  }\n  var name: string\n  var elm = vnode.elm\n  var i = 0\n  var compStyle: CSSStyleDeclaration\n  var style = s.remove\n  var amount = 0\n  var applied: string[] = []\n  for (name in style) {\n    applied.push(name);\n    (elm as any).style[name] = style[name]\n  }\n  compStyle = getComputedStyle(elm as Element)\n  var props = (compStyle as any)['transition-property'].split(', ')\n  for (; i < props.length; ++i) {\n    if (applied.indexOf(props[i]) !== -1) amount++\n  }\n  (elm as Element).addEventListener('transitionend', function (ev: TransitionEvent) {\n    if (ev.target === elm) --amount\n    if (amount === 0) rm()\n  })\n}\n\nfunction forceReflow () {\n  reflowForced = false\n}\n\nexport const styleModule: Module = {\n  pre: forceReflow,\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle\n}\n"]}},"error":null,"hash":"45f05bb33b8d2a7ba13529d1bc88e241","cacheData":{"env":{}}}