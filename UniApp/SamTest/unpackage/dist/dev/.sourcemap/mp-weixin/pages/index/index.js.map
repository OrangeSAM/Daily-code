{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Repo/Daily-code/UniApp/SamTest/pages/index/index.vue?7d7f","webpack:///D:/Repo/Daily-code/UniApp/SamTest/pages/index/index.vue?c46f","webpack:///D:/Repo/Daily-code/UniApp/SamTest/pages/index/index.vue?e8ef","webpack:///D:/Repo/Daily-code/UniApp/SamTest/pages/index/index.vue?34eb","uni-app:///pages/index/index.vue","webpack:///D:/Repo/Daily-code/UniApp/SamTest/pages/index/index.vue?5f7a","webpack:///D:/Repo/Daily-code/UniApp/SamTest/pages/index/index.vue?562b"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCppB;AACA,iG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA;AACA,wBAFA,EAGA,gBAHA,EAIA;AACA,mBALA,EAMA,YACA,KACA,QADA,EAEA,aAFA,EADA,EAKA,KACA,QADA,EAEA,aAFA,EALA,EASA,KACA,QADA,EAEA,aAFA,EATA,EAaA,KACA,QADA,EAEA,aAFA,EAbA,EAiBA,KACA,QADA,EAEA,aAFA,EAjBA,EAqBA,KACA,QADA,EAEA,aAFA,EArBA,EAyBA,KACA,QADA,EAEA,aAFA,EAzBA;;AA6BA;AACA,kBADA;AAEA,uBAFA,EA7BA;;AAiCA;AACA,kBADA;AAEA,uBAFA,EAjCA;;AAqCA;AACA,kBADA;AAEA,uBAFA,EArCA;;AAyCA;AACA,kBADA;AAEA,uBAFA,EAzCA;;AA6CA;AACA,kBADA;AAEA,uBAFA,EA7CA,EANA;;;;AAyDA,GA3DA;AA4DA;AACA,kBADA,4BACA;AACA;AACA,KAHA,EA5DA;;AAiEA;AACA;AACA,aAFA,uBAEA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA;AACA;AACA;AACA,eAXA,yBAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA,KAzBA;AA0BA,eA1BA,uBA0BA,IA1BA,EA0BA;AACA;AACA;AACA;AACA,OAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxCA;AAyCA;AACA,eA1CA,yBA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,oCAFA;;AAIA;AACA,OAdA;AAeA,KA3DA;AA4DA;AACA,aA7DA,qBA6DA,GA7DA,EA6DA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,CAKA;AACA;AACA;AACA,KAtEA;AAuEA,aAvEA,uBAuEA;AACA;AACA,kDADA;AAEA,0CAFA;AAGA,+CAHA;;AAKA,KA7EA,EAjEA;;AAgJA,SAhJA,qBAgJA;AACA;AACA;AACA;AACA;AACA,GArJA,E;;;;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAA+5B,CAAgB,o2BAAG,EAAC,C;;;;;;;;;;ACAn7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"card-wrapper\">\r\n\t\t<view class=\"card-title\">\r\n\t\t\t{{lunarData.animal}}年 {{lunarData.monthCn}} {{lunarData.dayCn}}\r\n\t\t\t{{lunarData.gzYear}}年 {{lunarData.gzMonth}}月 {{lunarData.gzDay}}日\r\n\t\t</view>\r\n\t\t<view class=\"card-date\">\r\n\t\t\t<view class=\"date-month\" v-if=\"formatedDate.month\">{{monthMap[formatedDate.month].cn}} {{monthMap[formatedDate.month].en}} </view>\r\n\t\t\t<view class=\"date-detail\">{{formatedDate.day}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"card-content\">\r\n\t\t\t<view class=\"content-detail\" v-if=\"sentenceData\">\r\n\t\t\t\t{{sentenceData.sentenceContent}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content-intro\">\r\n\t\t\t\t<image src=\"../../static/qrcode.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<!-- todo -->\r\n<!--\r\n1. 如何分享到微信朋友圈\r\n   观察到目前已有的实现无法直接一键转发朋友圈，都是保存本地手动发布\r\n2. 如何分享给微信好友\r\n   应该有API，不知道要不要登录\r\n3. 如何保存图片到本地 \r\n   直接抄已有的解决方案\r\n4. 字体\r\n\tdone\r\n5. 通过字数来判断字体大小\r\n-->\r\n\r\n<script>\r\n\timport solarLunar from 'solarlunar'\r\n\timport AV from 'leancloud-storage'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 金句数据\r\n\t\t\t\tsentenceData: null,\r\n\t\t\t\tformatedDate: {},\r\n\t\t\t\t// 转换为农历后的数据\r\n\t\t\t\tlunarData: {},\r\n\t\t\t\tmonthMap: {\r\n\t\t\t\t\t1: {\r\n\t\t\t\t\t\tcn: '正月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t2: {\r\n\t\t\t\t\t\tcn: '二月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t3: {\r\n\t\t\t\t\t\tcn: '三月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t4: {\r\n\t\t\t\t\t\tcn: '四月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t5: {\r\n\t\t\t\t\t\tcn: '五月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t6: {\r\n\t\t\t\t\t\tcn: '六月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t7: {\r\n\t\t\t\t\t\tcn: '七月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t8: {\r\n\t\t\t\t\t\tcn: '八月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t9: {\r\n\t\t\t\t\t\tcn: '九月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t10: {\r\n\t\t\t\t\t\tcn: '十月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t11: {\r\n\t\t\t\t\t\tcn: '冬月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t12: {\r\n\t\t\t\t\t\tcn: '腊月',\r\n\t\t\t\t\t\ten: 'January'\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tdateForCompare() {\r\n\t\t\t\treturn `${this.formatedDate.year}${this.formatedDate.month}${this.formatedDate.day}`\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 今天的日期：年月日\r\n\t\t\ttodayDate() {\r\n\t\t\t\tconst date = new Date()\r\n\t\t\t\tthis.formatedDate.year = date.getFullYear()\r\n\t\t\t\tthis.formatedDate.month = date.getMonth() + 1\r\n\t\t\t\tthis.formatedDate.day = date.getDate()\r\n\t\t\t},\r\n\t\t\t// 本地存储逻辑\r\n\t\t\t// 获取到数据之后,先本地存一份\r\n\t\t\t// 如果本地有数据之后,就不在发起请求获取\r\n\t\t\tgetSentence() {\r\n\t\t\t\tlet res = this.fromLocal('sentence')\r\n\t\t\t\t// 成功拿到了\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\t// 等于当天的日期，就不再发起请求了\r\n\t\t\t\t\tif (res.date === this.dateForCompare) {\r\n\t\t\t\t\t\tthis.sentenceData = res.sentenceData\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.fromRequest()\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t// 本地获取失败\r\n\t\t\t\t\tthis.fromRequest()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsaveToLocal(data) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = uni.setStorageSync('sentence', data)\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t}\r\n\t\t\t\t// uni.setStorage({\r\n\t\t\t\t// \tkey: 'sentence',\r\n\t\t\t\t// \tdata,\r\n\t\t\t\t// \tsuccess(res) {\r\n\t\t\t\t// \t\tconsole.log('数据保存本地成功', res)\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t// 从leancloud获取数据\r\n\t\t\tfromRequest() {\r\n\t\t\t\tconst query = new AV.Query('sentence')\r\n\t\t\t\tquery.find().then(e => { \r\n\t\t\t\t\tlet totalLength\r\n\t\t\t\t\tif (e) {\r\n\t\t\t\t\t\ttotalLength = e.length\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 获取sentence的长度，从中随机取1\r\n\t\t\t\t\tlet randomNum = Math.floor(Math.random() * totalLength)\r\n\t\t\t\t\tlet finalData = e[randomNum].attributes\r\n\t\t\t\t\t// 拿到之后，本地存一份\r\n\t\t\t\t\tthis.saveToLocal({\r\n\t\t\t\t\t\tsentenceData: finalData,\r\n\t\t\t\t\t\tdate: this.dateForCompare\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.sentenceData = finalData\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 从本地获取数据\r\n\t\t\tfromLocal(key) {\r\n\t\t\t\ttry {\r\n\t\t\t\t    const store = uni.getStorageSync(key);\r\n\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\treturn store\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t    return false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitQuery() {\r\n\t\t\t\tAV.init({\r\n\t\t\t\t        appId: \"dfquIAfzpAmmR0BHWR6WjbD4-gzGzoHsz\",\r\n\t\t\t\t        appKey: \"hLMkIJTCWO6AjY7i261JOfmC\",\r\n\t\t\t\t        serverURL: 'https://sentence.yibi.host'\r\n\t\t\t\t      });\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initQuery()\r\n\t\t\tthis.todayDate()\r\n\t\t\tthis.lunarData = solarLunar.solar2lunar(this.formatedDate.year, this.formatedDate.month, this.formatedDate.day)\r\n\t\t\tthis.getSentence()\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.card-wrapper {\r\n\t\tmargin: 40px 20px 20px 20px;\r\n\t\tborder: 2px solid #333333;\r\n\t\tborder-radius: 2rpx;\r\n\t\tfont-family: 'Times New Roman', Times, serif;\r\n\t}\r\n\r\n\t.card-title {\r\n\t\tline-height: 76rpx;\r\n\t\theight: 76rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 16px;\r\n\t\tfont-family: 'fangsong';\r\n\t\tborder-bottom: 1px solid #333333;\r\n\t}\r\n\r\n\t.card-date {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.card-date .date-month {\r\n\t\tmargin: 30rpx;\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: 800;\r\n\t}\r\n\r\n\t.card-date .date-detail {\r\n\t\tfont-size: 300rpx;\r\n\t\tfont-family: 'fangsong';\r\n\t\tfont-family: 600;\r\n\t}\r\n\r\n\t.card-content {\r\n\t\tborder-top: 1rpx solid #333333;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.card-content .content-intro {\r\n\t\tpadding: 15px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.card-content .content-intro image {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t}\r\n\r\n\t.card-content .content-intro .tips {\r\n\t\tfont-size: 12px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.card-content .content-detail {\r\n\t\tpadding: 15px;\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #dd524d;\r\n\t\tfont-weight: 800;\r\n\t\tfont-family: 'fangsong';\r\n\t\tborder-right: 1px solid #f1f1f1;\r\n\t\t;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605944989535\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}